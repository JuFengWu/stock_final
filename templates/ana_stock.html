<!DOCTYPE html>
<html>
    <style>
        .cheap {
            background-color: green;
            color: white;
            text-align: center;
        }
        .fair {
            background-color: yellow;
            color: black;
            text-align: center;
        }
        .expensive {
            background-color: red;
            color: white;
            text-align: center;
        }
    </style>
<head>
    <title>股票分析輸入</title>
    <p>Welcome, {{ request.user.username }}! <a href="{% url 'logout_user' %}">Logout</a></p>
</head>
<body>
    <h1>股票分析工具</h1>
    <form method="POST">
        {% csrf_token %}
        <label for="stock_code">股票代號:</label>
        <input type="text" id="stock_code" name="stock_code" required><br><br>
        <label for="start_date">分析起始日:</label>
        <input type="date" id="start_date" name="start_date" required><br><br>
        <label for="end_date">分析結束日:</label>
        <input type="date" id="end_date" name="end_date" required><br><br>
        <button type="submit">提交</button>
    </form>

    {% if heatmap_data %}
    <h2>分析結果</h2>
    <table border="1">
        <thead>
            <tr>
                <th>Method</th>
                <th>Day 1</th>
                <th>Day 2</th>
            </tr>
        </thead>
        <tbody>
            {% for method, days in heatmap_data.items %}
            <tr>
                <td>{{ method }}</td>
                {% for day, value in days.items %}
                <td class="{{ value }}">{{ value }}</td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}
</body>
</html>
